
# 📘 과제 해결: 계산기 MCP 서버에 제곱근 도구 확장

## 개요
이 과제에서는 숫자의 제곱근을 계산하는 새로운 도구를 추가하여 계산기 MCP 서버를 향상시켰습니다. 이 추가 기능을 통해 AI 에이전트는 "16의 제곱근은 무엇입니까?" 또는 "√49를 계산하세요"와 같은 더 고급 수학적 쿼리를 자연어 프롬프트를 사용하여 처리할 수 있습니다.

## 🛠️ 제곱근 도구 구현
이 기능을 추가하기 위해 server.py 파일에 새로운 도구 함수를 정의했습니다. 다음은 구현입니다:

```python
"""
Python으로 구현된 샘플 MCP 계산기 서버.

이 모듈은 기본적인 산술 연산(덧셈, 뺄셈, 곱셈, 나눗셈)을 수행할 수 있는 계산기 도구를 사용하여 간단한 MCP 서버를 생성하는 방법을 보여줍니다.
"""

from mcp.server.fastmcp import FastMCP
import math

server = FastMCP("calculator")

@server.tool()
def add(a: float, b: float) -> float:
    """두 숫자를 더하고 결과를 반환합니다."""
    return a + b

@server.tool()
def subtract(a: float, b: float) -> float:
    """a에서 b를 빼고 결과를 반환합니다."""
    return a - b

@server.tool()
def multiply(a: float, b: float) -> float:
    """두 숫자를 곱하고 결과를 반환합니다."""
    return a * b

@server.tool()
def divide(a: float, b: float) -> float:
    """
    a를 b로 나누고 결과를 반환합니다.
    
    예외:
        ValueError: b가 0인 경우
    """
    if b == 0:
        raise ValueError("0으로 나눌 수 없습니다")
    return a / b

@server.tool()
def sqrt(a: float) -> float:
    """
    a의 제곱근을 반환합니다.

    예외:
        ValueError: a가 음수인 경우.
    """
    if a < 0:
        raise ValueError("음수의 제곱근은 계산할 수 없습니다.")
    return math.sqrt(a)
```

## 🔍 작동 방식

- **`math` 모듈 가져오기**: 기본적인 산술 연산을 넘어선 수학적 연산을 수행하기 위해 Python은 내장 `math` 모듈을 제공합니다. 이 모듈에는 다양한 수학 함수와 상수가 포함되어 있습니다. `import math`를 사용하여 가져오면 숫자의 제곱근을 계산하는 `math.sqrt()`와 같은 함수에 액세스할 수 있습니다.
- **함수 정의**: `@server.tool()` 데코레이터는 `sqrt` 함수를 AI 에이전트가 액세스할 수 있는 도구로 등록합니다.
- **입력 매개변수**: 이 함수는 `float` 유형의 단일 인수 `a`를 허용합니다.
- **오류 처리**: `a`가 음수이면 함수는 `ValueError`를 발생시켜 음수의 제곱근 계산을 방지합니다. 이는 `math.sqrt()` 함수에서 지원되지 않습니다.
- **반환 값**: 음수가 아닌 입력의 경우 함수는 Python의 내장 `math.sqrt()` 메서드를 사용하여 `a`의 제곱근을 반환합니다.

## 🔄 서버 재시작
새로운 `sqrt` 도구를 추가한 후에는 에이전트가 새로 추가된 기능을 인식하고 활용할 수 있도록 MCP 서버를 다시 시작하는 것이 중요합니다.

## 💬 새 도구를 테스트하기 위한 예시 프롬프트
다음은 제곱근 기능을 테스트하는 데 사용할 수 있는 몇 가지 자연어 프롬프트입니다:

- "25의 제곱근은 무엇입니까?"
- "81의 제곱근을 계산하세요."
- "0의 제곱근을 찾으세요."
- "2.25의 제곱근은 무엇입니까?"

이러한 프롬프트는 에이전트가 `sqrt` 도구를 호출하고 올바른 결과를 반환하도록 트리거해야 합니다.

## ✅ 요약
이 과제를 완료함으로써 다음을 수행했습니다:

- 새로운 `sqrt` 도구로 계산기 MCP 서버를 확장했습니다.
- AI 에이전트가 자연어 프롬프트를 통해 제곱근 계산을 처리할 수 있도록 했습니다.
- 추가 기능을 통합하기 위해 새로운 도구를 추가하고 서버를 다시 시작하는 연습을 했습니다.

지수 또는 로그 함수와 같은 더 많은 수학 도구를 추가하여 에이전트의 기능을 계속 향상시켜 보세요!